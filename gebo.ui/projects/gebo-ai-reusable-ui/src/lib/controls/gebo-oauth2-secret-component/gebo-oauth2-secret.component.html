<p-panel header="Oauth2 registered client" [formGroup]="formGroup">
    <p-blockUI [blocked]="loading">
        <i class="pi pi-lock" style="font-size: 3rem"></i>
    </p-blockUI>
    <div class="grid">
        <div class="col-12" *ngIf="hideProviderChoice?false:true">
            <div class="flex flex-column gap-2 ">
                <label for="providerName">Oauth2 provider</label>
                <geboai-editable-listbox-component formControlName="providerName" placeholder="Select a provider"
                    [required]="true" [data]="providersData" [readonly]="forcedProviderName?true:false"
                    aria-describedby="providerName-help">

                </geboai-editable-listbox-component>
                <small id="providerName-help">
                    Parent project reference.
                </small>
            </div>
        </div>
        <div class="col-12">
            <div class="flex flex-column gap-2">
                <label for="clientId">Client ID</label>
                <input pInputText id="clientId" formControlName="clientId" aria-describedby="clientId-help" />
                <small id="clientId-help">
                    Client identifier for the oauth2 protocol (to be retrieved in the oauth2 authenticated 3rd
                    party software admin area)
                </small>
            </div>
        </div>
        <div class="col-12">
            <div class="flex flex-column gap-2">
                <label for="secret">Secret key</label>
                <textarea rows="5" cols="120" pTextarea id="secret" formControlName="secret"
                    aria-describedby="secret-help">
                    </textarea>
                <small id="secret-help">
                    Client secret for the oauth2 protocol (to be retrieved in the oauth2 authenticated 3rd party
                    software admin area)
                </small>
            </div>
        </div>
        <div class="col-12" *ngIf="oauth2ChoosableScopes && oauth2ChoosableScopes?.length">
            <div class="flex flex-column gap-2">
                <label for="scopes">Oauth2 scopes</label>
                <p-multiselect [options]="oauth2ChoosableScopes" formControlName="scopes" optionLabel="description"
                    optionValue="code" placeholder="Select Oauth2 scopes" styleClass="w-full md:w-80" />
                <small id="scopes-help">
                    Scopes for the oauth2 registered client
                </small>
            </div>
        </div>
        <p-fieldset *ngIf="actualProvider && actualEditableCustomAttributes?.length"
            [legend]="'Specific attributes for ' + actualProvider?.description" class="col-12">
            <div class="grid">
                <div class="col-12" *ngFor="let attr of actualEditableCustomAttributes">
                    <div class="flex flex-column gap-2">
                        <label [for]="attr.attributeName">{{attr.attributeName}}</label>
                        <input pInputText [id]="attr.attributeName"
                            [formControl]="customAttribute(attr.attributeName)" />
                        <small [id]="attr.attributeName+'-help'">
                            {{attr.attributeDescription}}
                        </small>
                    </div>
                </div>
            </div>
        </p-fieldset>
    </div>
</p-panel>