<!--
/**
 * This Source Code is subject to the terms of the 
 * Gebo.ai community version Mozilla Public License Version 2.0 (MPL-2.0) â€” With Data Protection Clauses
 * If a copy of the LICENCE was not distributed with this file, You can obtain one at 
 * https://gebo.ai/gebo-ai-community-version-mozilla-public-license-version-2-0-mpl-2-0-with-data-protection-clauses/  
 * and https://mozilla.org/MPL/2.0/.
 * Copyright (c) 2025+ Gebo.ai 
 */
 -->
 
 
 

<p-dialog [maximizable]="true" [visible]="visible" [modal]="true" [style]="{width:'95%',height:'800px'}" (onHide)="closeModal($event)"
  [closable]="false" [showHeader]="false">
  <p-panel  id="ChangePasswordUI" gebo-ai-label #chpwdUI header="Change password form" [formGroup]="formGroup" *ngIf="visible">
    <p-blockUI [target]="chpwdUI" [blocked]="loading">
      <i class="pi pi-lock" style="font-size: 3rem"></i>
    </p-blockUI>
    <p-messages [value]="userMessages" [enableService]="false"></p-messages>
    <div class="grid">
      <div class="col-6">
        <gebo-ai-field id="username" label="E-mail" help="E-mail as username to login" [required]="true">
          <input
            pInputText
            id="username"
            formControlName="username"
            class="col-12"
            [required]="true"
            [readonly]="true"
            gebo-ai-field-element
          />
        </gebo-ai-field>
      </div>
      <div class="col-6">
        <gebo-ai-field id="oldPassword" label="Old Password" help="Actual password to login" [required]="true">
          <p-password
            id="oldPassword"
            formControlName="oldPassword"
            class="col-12"
            [required]="true"
            [feedback]="false"
            gebo-ai-field-element
          ></p-password>
        </gebo-ai-field>
      </div>
      <div class="col-6">
        <gebo-ai-field id="newPassword" label="New password" help="new password" [required]="true">
          <p-password
            id="newPassword"
            formControlName="newPassword"
            class="col-12"
            [required]="true"
            gebo-ai-field-element
          ></p-password>
        </gebo-ai-field>
      </div>
      <div class="col-6">
        <gebo-ai-field id="newPassword1" label="Confirm new password" help="Confirm new password" [required]="true">
          <p-password
            id="newPassword1"
            formControlName="newPassword1"
            class="col-12"
            [required]="true"
            [feedback]="false"
            gebo-ai-field-element
          ></p-password>
        </gebo-ai-field>
      </div>
      <div class="col-2">
        <p-button id="ChangePwdBtn" gebo-ai-label icon="pi pi-hashtag" [outlined]="true" [disabled]="formGroup.invalid" label="change password"
          (onClick)="doChangePassword()" styleClass="w-full"></p-button>
      </div>
      <div class="col-2">
        <p-button  id="CancelBtn" gebo-ai-label  severity="contrast"  [outlined]="true"  label="Cancel"
          (onClick)="closeModal(true)" styleClass="w-full"></p-button>
      </div>
    </div>
  </p-panel>
</p-dialog>
<!-- Treated By refactory robot GeboAIHtmlMultilanguageBot -->