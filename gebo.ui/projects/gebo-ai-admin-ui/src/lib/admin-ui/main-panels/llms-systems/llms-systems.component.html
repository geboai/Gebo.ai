<!--
/**
 * This Source Code is subject to the terms of the 
 * Gebo.ai community version Mozilla Public License Version 2.0 (MPL-2.0) â€” With Data Protection Clauses
 * If a copy of the LICENCE was not distributed with this file, You can obtain one at 
 * https://gebo.ai/gebo-ai-community-version-mozilla-public-license-version-2-0-mpl-2-0-with-data-protection-clauses/  
 * and https://mozilla.org/MPL/2.0/.
 * Copyright (c) 2025+ Gebo.ai 
 */
 -->

<p-blockUI id="BlockUI" gebo-ai-label [target]="llmSystems" [blocked]="loading">
    <i class="pi pi-lock" style="font-size: 3rem"></i>
</p-blockUI>
<p-panel id="MainPanel" gebo-ai-label #llmSystems>
    <div class="grid geboFullHeight">
        <div class="col-12 geboThirdHeight">
            <p-panel id="ChatmodelsZone" gebo-ai-label header="Configured chat models"
                *ngIf="chatModels && chatModels.length">
                <p-table [value]="chatModels">
                    <ng-template pTemplate="header">
                        <tr>
                            <th id="CodeHeader" gebo-ai-text>Code</th>
                            <th id="DescriptionHeader" gebo-ai-text>Description</th>
                            <th id="ModelProviderHeader" gebo-ai-text>Model provider</th>
                            <th id="ModelHeader" gebo-ai-text>Model </th>
                            <th></th>
                            <th></th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-model>
                        <tr>
                            <td>{{ model.configuration?.code }}</td>
                            <td>{{ model.configuration?.description }}</td>
                            <td>{{ model.configuration?.modelTypeCode }}</td>
                            <td>{{ model.configuration?.choosedModel?.code }}</td>
                            <td>
                                <gebo-ai-test-chat-component
                                    [chatModelCode]="model.configuration.code"></gebo-ai-test-chat-component>
                            </td>
                            <td>
                                <p-button id="ConfigureBtn" gebo-ai-label (onClick)="editModel(model)" [outlined]="true"
                                    label="configure" icon="pi pi-wrench"></p-button>
                            </td>
                        </tr>
                    </ng-template>

                </p-table>
            </p-panel>
        </div>
        <div class="col-12 geboThirdHeight">
            <p-panel id="EmneddingModelsZone" gebo-ai-label *ngIf="embeddingModels && embeddingModels.length"
                header="Configured embedding models">

                <p-table [value]="embeddingModels" *ngIf="embeddingModels && embeddingModels.length">
                    <ng-template pTemplate="header">
                        <tr>
                            <th id="CodeHeader2" gebo-ai-text>Code</th>
                            <th id="DescriptionHeader2" gebo-ai-text>Description</th>
                            <th id="ModelProviderHeader2" gebo-ai-text>Model provider</th>
                            <th id="ModelHeader2" gebo-ai-text>Model </th>
                            <th></th>
                            <th></th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-model>
                        <tr>
                            <td>{{ model.configuration?.code }}</td>
                            <td>{{ model.configuration?.description }}</td>
                            <td>{{ model.configuration?.modelTypeCode }}</td>
                            <td>{{ model.configuration?.choosedModel?.code }}</td>
                            <td>

                            </td>
                            <td><p-button id="ConfigureBtn2" gebo-ai-label (onClick)="editEmbeddingModel(model)"
                                    [outlined]="true" label="configure" icon="pi pi-wrench"></p-button></td>
                        </tr>
                    </ng-template>

                </p-table></p-panel>
        </div>
        <div class="col-12 geboThirdHeight">
            <div class="grid" [formGroup]="createChoices">
                <div class="col-3">
                    <geboai-editable-listbox-component formControlName="chat"
                        placeholder="Select the chat model provider" [data]="chatModelsTypes">
                    </geboai-editable-listbox-component>
                </div>
                <div class="col-3">
                    <p-button id="NewChatModelConfigurationBtn" gebo-ai-label label="New chat model configuration"
                        [outlined]="true" icon="pi pi-microchip-ai"
                        [disabled]="createChoices.controls['chat'].value?false:true"
                        (onClick)="configureChatModel()"></p-button>
                </div>

                <div class="col-3">
                    <geboai-editable-listbox-component formControlName="embed"
                        placeholder="Select the embedding model provider" [data]="embeddingModelsTypes">
                    </geboai-editable-listbox-component>
                </div>
                <div class="col-3">
                    <p-button id="NewEmbeddingModelConfigurationBtn" gebo-ai-label
                        label="New embedding model configuration" [outlined]="true" icon="pi pi-microchip-ai"
                        [disabled]="createChoices.controls['embed'].value?false:true"
                        (onClick)="configureEmbeddingModel();"></p-button>

                </div>
            </div>
        </div>
    </div>
</p-panel>


<!-- Treated By refactory robot GeboAIHtmlMultilanguageBot -->
<!-- Treated By refactory robot ROBOT-REFACTORY-PRIMENG-COMPONENTS-HTML-NODES-GEBOAI -->